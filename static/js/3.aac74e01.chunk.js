(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{101:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),i=n(3),s=n(45),o=n(88),u=n(84),l=n(85),f=n(87),m=n(86),p=(n(94),n(12)),d=n(30);var h=function(e){return r.a.createElement("div",{className:"ChatCard"},r.a.createElement("div",{className:"chat-card"},r.a.createElement(d.a,{userName:e.name}),r.a.createElement("div",{className:"chat-card__description"},r.a.createElement("div",{className:"chat-card__name"},r.a.createElement(p.c,{activeClassName:"chat-card__name-active",to:{pathname:"/dialogs/".concat(e.name),state:{chatName:e.name}}},e.name)))))};n(95);var b=function(e){return r.a.createElement("div",{className:"Message"},r.a.createElement("div",{className:"message__creator"},r.a.createElement(d.a,{userName:e.name})),r.a.createElement("div",{className:"message__body"},e.text))};n(96);var g=function(e){var t;t=e.data.map((function(e,t){return r.a.createElement(b,{key:t,name:e.name,text:e.text})}));var n=Object(a.useRef)(null);return Object(a.useEffect)((function(){n.current.scrollIntoView({behavior:"smooth"})})),r.a.createElement("div",{className:"ChatWindow"},r.a.createElement("div",{className:"chat-window"},t,r.a.createElement("div",{ref:n})))},v=(n(97),n(13)),y=n(90);var w=function(e){return r.a.createElement("div",{className:"Chats"},r.a.createElement("div",{className:"chats-page"},r.a.createElement("div",{className:"chats-page__window"},r.a.createElement("div",{className:"window__header"},e.data.chatName),r.a.createElement(g,{data:e.data.messages[e.data.chatName]})),r.a.createElement(y.a,{onSubmit:function(t){e.addMessage(e.data.chatName,t.messageInput,e.messageCreator),t.messageInput=""},fieldName:"messageInput",formClassName:"chats-page__input",inputPlaceholder:"Write a message",inputClassName:"chats-page__input__textarea",btnName:"Send"}),r.a.createElement("div",{className:"chats-page__chats"},r.a.createElement("div",{className:"secondary-list__header"},"Chats"),r.a.createElement("span",null,"\xa0"),e.isFetchingFollowingList?r.a.createElement(v.a,{additional:"small"}):e.followingListData.map((function(e,t){return r.a.createElement(h,{key:t,name:e.name})})))))},N=function(e){Object(f.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetFollowingList(this.props.userId)}},{key:"render",value:function(){return r.a.createElement(w,{data:this.props.data,messageCreator:this.props.messageCreator,followingListData:this.props.followingListData,isFetchingFollowingList:this.props.isFetchingFollowingList,addMessage:this.props.addMessage})}}]),n}(r.a.Component),E=n(11),_=n(89);t.default=Object(i.g)(Object(c.b)((function(e,t){var n={chatName:Object.keys(e.chatsData)[0],messages:e.chatsData};return t.location.state&&(n.chatName=t.location.state.chatName),{data:n,messageCreator:Object(E.d)(e),userId:Object(E.c)(e),followingListData:Object(_.c)(e),isFetchingFollowingList:Object(_.a)(e)}}),(function(e){return{addMessage:function(t,n,a){e(Object(s.a)(t,n,a))},onGetFollowingList:function(t){e(Object(o.b)(t))}}}))((function(e){return r.a.createElement(N,{data:e.data,messageCreator:e.messageCreator,userId:e.userId,followingListData:e.followingListData,isFetchingFollowingList:e.isFetchingFollowingList,addMessage:e.addMessage,onGetFollowingList:e.onGetFollowingList})})))},83:function(e,t,n){"use strict";function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return a}))},84:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return a}))},85:function(e,t,n){"use strict";function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function r(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}n.d(t,"a",(function(){return r}))},86:function(e,t,n){"use strict";function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return s}));var c=n(83);function i(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?Object(c.a)(e):t}function s(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var c=a(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return i(this,n)}}},87:function(e,t,n){"use strict";function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}n.d(t,"a",(function(){return r}))},88:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u}));var a=n(15),r=n.n(a),c=n(20),i=n(32),s=n(33),o=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(p(!0)),t.prev=1,t.next=4,Object(i.c)(e);case 4:a=t.sent,n(f(a)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:n(p(!1));case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},u=function(e,t){return function(){var n=Object(c.a)(r.a.mark((function n(a){var c;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(m(!0)),n.prev=1,n.next=4,Object(i.b)(e,t);case 4:c=n.sent,a(l(c)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),console.log(n.t0);case 11:a(m(!1));case 12:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}()},l=function(e){return{type:s.a,newUsersList:e}},f=function(e){return{type:s.b,newFollowingList:e}},m=function(e){return{type:s.c,isFetching:e}},p=function(e){return{type:s.d,isFetching:e}}},89:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return i}));var a=function(e){return e.usersData.followingList},r=function(e){return e.usersData.usersList},c=function(e){return e.usersData.isFetchingFollowingList},i=function(e){return e.usersData.isFetchingUsersList}},90:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(24),i=n(31);t.a=function(e){return r.a.createElement(c.b,{onSubmit:e.onSubmit,validate:function(t){var n={};return t[e.fieldName]||(n[e.fieldName]="Required"),n},render:function(t){var n=t.handleSubmit,a=(t.form,t.submitting);t.pristine,t.values;return r.a.createElement("form",{className:e.formClassName,onSubmit:n},r.a.createElement(c.a,{name:e.fieldName},(function(t){var n=t.input;return r.a.createElement("input",Object.assign({},n,{placeholder:e.inputPlaceholder,className:e.inputClassName}))})),r.a.createElement(i.a,{type:"submit",disabled:a,btnName:e.btnName}))}})}},94:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){}}]);
//# sourceMappingURL=3.aac74e01.chunk.js.map