(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[5],{100:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(10),i=n(3),c=n(84),s=n(85),u=n(87),l=n(86),f=(n(98),n(13)),m=(n(99),n(30));var p=function(e){return a.a.createElement("div",{className:"Post"},a.a.createElement("div",{className:"post__title"},a.a.createElement(m.a,{avatarClassName:"post__creator-avatar",userName:e.name}),a.a.createElement("div",{className:"post__creator-name"},e.name)),a.a.createElement("div",{className:"post__body"},e.text),a.a.createElement("div",{className:"post__footer"},a.a.createElement("div",{className:"like-icon"},"\u2764")))};var d=function(e){var t=[];return void 0!==e.postsData&&(t=e.postsData.map((function(e,t){return a.a.createElement(p,Object.assign({key:t},e))}))),a.a.createElement("div",{className:"PostsWall"},t)},h=n(90),v=n(91);var b=function(e){var t=Object(r.useState)(!1),n=Object(v.a)(t,2),o=n[0],i=n[1],c=Object(r.useRef)(),s=function(){i(!o)},u=function(t,n){e.onChangeProfileInfo(t,n)};return a.a.createElement(a.a.Fragment,null,o?a.a.createElement("input",{className:"description__main-input",placeholder:e.info,onClick:function(){e.userId===e.authUserId&&(""!==c.current.value&&u(e.userId,c.current.value),s())},onBlur:function(){e.userId===e.authUserId&&(""!==c.current.value&&u(e.userId,c.current.value),s())},autoFocus:!0,maxLength:"59",ref:c}):a.a.createElement("div",{className:"description__main",onClick:function(){e.userId===e.authUserId&&s()}},e.info))},_=function(e){for(var t=[];e;)e--,t.push(a.a.createElement("div",{key:e,className:"followers__item"},a.a.createElement(m.a,{userName:String(Math.random())})));return t},y=function(e,t){return a.a.createElement("div",{className:"description__footer__item"},a.a.createElement("span",{className:"item__num"},e),a.a.createElement("br",null),a.a.createElement("span",{className:"item__name"},t))};var N=function(e){return a.a.createElement(a.a.Fragment,null,e.isFetchingProfile?a.a.createElement(f.a,null):a.a.createElement("div",{className:"Profile"},a.a.createElement("div",{className:"profile"},a.a.createElement("div",{className:"profile__avatar"},a.a.createElement(m.a,{userName:e.data.name})),a.a.createElement("div",{className:"profile__description"},a.a.createElement("div",{className:"description__name"},e.data.name),a.a.createElement(b,{onChangeProfileInfo:e.onChangeProfileInfo,info:e.data.info,userId:e.userId,authUserId:e.authUserId}),a.a.createElement("div",{className:"description__footer"},y(e.data.followers,"followers"),y(e.data.posts,"posts"),y(e.data.following,"following"))),a.a.createElement("div",{className:"profile__followers"},a.a.createElement("span",{className:"followers__title"},"Followers"),a.a.createElement("span",{className:"followers__num"},e.data.followers),a.a.createElement("div",{className:"followers__main"},_(+e.data.followers<=6?+e.data.followers:6))),a.a.createElement("div",{className:"profile__following"},a.a.createElement("span",{className:"followers__title"},"Following"),a.a.createElement("span",{className:"followers__num"},e.data.following),a.a.createElement("div",{className:"followers__main"},_(+e.data.following<=6?+e.data.following:6))),a.a.createElement(h.a,{onSubmit:function(t){e.onProfileAddPost(e.userId,e.userName,t.postText),t.postText=""},fieldName:"postText",formClassName:"profile__input",inputPlaceholder:"What's new?",inputClassName:"postText__input",btnName:"Publish"}),a.a.createElement(d,{postsData:e.data.postsData}))))},E=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetProfile(this.props.userId)}},{key:"render",value:function(){return a.a.createElement(N,{data:this.props.data,isFetchingProfile:this.props.isFetchingProfile,userId:this.props.userId,authUserId:this.props.authUserId,userName:this.props.userName,onProfileAddPost:this.props.onProfileAddPost,onChangeProfileInfo:this.props.onChangeProfileInfo})}}]),n}(a.a.Component),P=n(15),g=n.n(P),w=n(20),I=n(32),O=n(34),j=function(e){return{type:O.a,profile:e}},x=function(e){return{type:O.b,isFetching:e}},S=n(11),C=function(e){return e.profileUserData.profileData},k=function(e){return e.profileUserData.isFetching};t.default=Object(i.g)(Object(o.b)((function(e,t){return{data:C(e),isFetchingProfile:k(e),userId:t.match.params.userId,authUserId:Object(S.c)(e),userName:Object(S.d)(e)}}),(function(e){return{onGetProfile:function(t){e(function(e){return function(){var t=Object(w.a)(g.a.mark((function t(n){var r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(x(!0)),t.prev=1,t.next=4,Object(I.e)(e);case 4:r=t.sent,n(j(r)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:n(x(!1));case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))},onProfileAddPost:function(t,n,r){e(function(e,t,n){return function(){var r=Object(w.a)(g.a.mark((function r(a){var o;return g.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(I.a)(e,t,n);case 3:o=r.sent,a(j(o)),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),console.log(r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()}(t,n,r))},onChangeProfileInfo:function(t,n){e(function(e,t){return function(){var n=Object(w.a)(g.a.mark((function n(r){var a;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(I.f)(e,t);case 3:a=n.sent,r(j(a)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))}}}))((function(e){return a.a.createElement(E,{data:e.data,isFetchingProfile:e.isFetchingProfile,userId:e.userId,authUserId:e.authUserId,onGetProfile:e.onGetProfile,userName:e.userName,onProfileAddPost:e.onProfileAddPost,onChangeProfileInfo:e.onChangeProfileInfo})})))},83:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},84:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},85:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return a}))},86:function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return c}));var o=n(83);function i(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?Object(o.a)(e):t}function c(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return i(this,n)}}},87:function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}n.d(t,"a",(function(){return a}))},90:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(24),i=n(31);t.a=function(e){return a.a.createElement(o.b,{onSubmit:e.onSubmit,validate:function(t){var n={};return t[e.fieldName]||(n[e.fieldName]="Required"),n},render:function(t){var n=t.handleSubmit,r=(t.form,t.submitting);t.pristine,t.values;return a.a.createElement("form",{className:e.formClassName,onSubmit:n},a.a.createElement(o.a,{name:e.fieldName},(function(t){var n=t.input;return a.a.createElement("input",Object.assign({},n,{placeholder:e.inputPlaceholder,className:e.inputClassName}))})),a.a.createElement(i.a,{type:"submit",disabled:r,btnName:e.btnName}))}})}},91:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(21);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},98:function(e,t,n){},99:function(e,t,n){}}]);
//# sourceMappingURL=5.2a2ddf27.chunk.js.map